<!DOCTYPE html>
<html lang="en-US">
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show Customer - DispensaryTrack</title>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<script>
		var app = angular.module("my-app",[]);
		
		app.factory('interceptor',[function(){
			var interceptor = {
				request:function(config){
					config.headers.Authorization = localStorage.getItem("tkey");
					// debugger;
					return config;
				},
				response:function(response){
					// debugger;
					return response;
				}
			};
			return interceptor;
		}]);
		
		app.config(function($httpProvider){
			$httpProvider.interceptors.push('interceptor');
		});
		
		app.controller('ShowCustomerCtrl',function($scope,$http){
				$http.get("https://localhost:44338/api/customers").then(function(resp){
					$scope.customers=resp.data;
					//alert(Success);
                    debugger;
				},function(err){
                    
				});
				
				
		});
	</script>

	<body ng-app="my-app">
		<div ng-controller="ShowCustomerCtrl">
			<a ng-href="D:\DotNet Project\DispensaryTrack\FrontEnd\DispensaryTrack\Views\AddCustomer.html">Add New Customer</a>
			<table border=1 style="border-collapse: collapse;">
				<tr>
					<th>ID</th>
					<th>Customer Name</th>
					<th>Email</th>
					<th>Phone</th>
					<th>Balance</th>
					<th>Gender</th>
					<th>Status</th>
					<th>Address</th>
					<th>Action</th>
				</tr>
    			<tr ng-repeat="r in customers">
      				<td>{{r.Cid}}</td>
      				<td>{{r.Name}}</td>
      				<td>{{r.Email}}</td>
      				<td>{{r.Phone}}</td>
      				<td>{{r.Balance}}</td>
      				<td>{{r.Gender}}</td>
      				<td>{{r.Status}}</td>
      				<td>{{r.Address}}</td>
      				<td>
      					<a ng-href="">Edit</a>
      					<a>Delete</a>
      				</td>
    			</tr>
			</table>
		</div>
	</body>
</html>